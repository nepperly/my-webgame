<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工作人员-薛仁</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* === 基础样式 === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0f7fa;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        @keyframes float {
            0% { transform: translateX(0) translateY(0); }
            50% { transform: translateX(30px) translateY(-15px); }
            100% { transform: translateX(0) translateY(0); }
        }
        
        /* 主容器 */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        /* === 顶部论坛导航栏 === */
        .forum-header {
            background: rgba(16, 36, 64, 0.9);
            border-radius: 20px;
            padding: 25px 30px;
            border: 1px solid rgba(128, 222, 234, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            border-left: 5px solid #80deea;
        }
        
        .forum-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #80deea, #00acc1, #80deea);
        }
        
        .forum-title {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .forum-title h1 {
            color: #80deea;
            font-size: 3rem;
            text-shadow: 0 0 15px rgba(128, 222, 234, 0.7);
            margin-bottom: 5px;
            letter-spacing: 3px;
        }
        
        .forum-subtitle {
            font-size: 1.1rem;
            color: #b2ebf2;
        }
        
        /* 功能栏 */
        .function-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(128, 222, 234, 0.2);
            flex-wrap: wrap;
            gap: 20px;
        }
        
        /* 用户操作区域 */
        .user-actions {
            display: flex;
            gap: 15px;
            flex-shrink: 0;
        }
        
        .user-btn {
            padding: 12px 25px;
            border-radius: 50px;
            border: 2px solid #80deea; /* 固定边框 */
            background: rgba(16, 36, 64, 0.8);
            color: #80deea;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }
        
        .user-btn:hover {
            background: rgba(128, 222, 234, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(128, 222, 234, 0.3);
        }
        
        .login-btn {
            border-color: #80deea;
        }
        
        /* 搜索框 */
        .search-box {
            flex: 1;
            display: flex;
            border: 2px solid #80deea; /* 固定边框 */
            border-radius: 50px;
            overflow: hidden;
            min-width: 300px;
            max-width: 600px;
        }
        
        .search-box input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }
        
        .search-box input:focus {
            outline: none;
        }
        
        .search-box button {
            padding: 12px 25px;
            border: none;
            background: linear-gradient(90deg, #00acc1, #00838f);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 100px;
            white-space: nowrap;
        }
        
        .search-box button:hover {
            background: linear-gradient(90deg, #00838f, #006064);
            box-shadow: 0 0 15px rgba(0, 172, 193, 0.5);
        }
        
        /* === 工作台主内容区 === */
        .workstation-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        /* 员工信息卡片 - 缩小版 */
        .employee-card {
            background: rgba(22, 33, 62, 0.9);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(128, 222, 234, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            min-height: auto;
        }
        
        .employee-info {
            flex: 1;
        }
        
        .employee-name {
            font-size: 1.5rem;
            color: #80deea;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .employee-id {
            font-size: 1rem;
            color: #ffcc80;
            background: rgba(255, 204, 128, 0.1);
            padding: 4px 12px;
            border-radius: 15px;
            border: 1px solid rgba(255, 204, 128, 0.3);
        }
        
        .employee-stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            background: rgba(16, 36, 64, 0.6);
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(128, 222, 234, 0.2);
            min-width: 150px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #b2ebf2;
            margin-bottom: 4px;
        }
        
        .stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #e0f7fa;
        }
        
        .stat-highlight {
            color: #ff8a65;
            border-color: rgba(255, 138, 101, 0.3);
        }
        
        .employee-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            border: 2px solid rgba(128, 222, 234, 0.5);
            margin-left: 20px;
        }
        
        /* 选项卡容器 */
        .tabs-container {
            display: flex;
            gap: 10px;
            margin-bottom: 0;
            background: rgba(16, 36, 64, 0.8);
            border-radius: 15px 15px 0 0;
            padding: 15px 20px 0 20px;
            border: 1px solid rgba(128, 222, 234, 0.2);
            border-bottom: none;
        }
        
        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s;
            background: rgba(22, 33, 62, 0.6);
            border: 1px solid rgba(128, 222, 234, 0.2);
            border-bottom: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }
        
        .tab:hover {
            background: rgba(128, 222, 234, 0.1);
            transform: translateY(-2px);
        }
        
        .tab.active {
            background: rgba(22, 33, 62, 0.95);
            color: #80deea;
            border-bottom: 3px solid #80deea;
            font-weight: bold;
        }
        
        /* 内容区域 */
        .content-area {
            background: rgba(22, 33, 62, 0.95);
            border-radius: 0 15px 15px 15px;
            padding: 25px;
            min-height: 200px;
            border: 1px solid rgba(128, 222, 234, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            max-height: 500px;
        }
        
        .content-pane {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .content-pane.active {
            display: block;
        }
        
        /* === 员工信息页面样式 - 缩小版 === */
        .employee-details-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .info-section {
            background: rgba(16, 36, 64, 0.6);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #10b981;
        }
        
        .info-section.personal {
            border-left-color: #3b82f6;
        }
        
        .info-section.work {
            border-left-color: #f59e0b;
        }
        
        .info-section.permissions {
            border-left-color: #8b5cf6;
        }
        
        .section-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #80deea;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            font-size: 1.1rem;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 15px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
            padding: 12px;
            background: rgba(51, 65, 85, 0.4);
            border-radius: 8px;
            border: 1px solid rgba(128, 222, 234, 0.2);
        }
        
        .info-label {
            font-size: 0.85rem;
            color: #94a3b8;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-size: 1rem;
            color: #e2e8f0;
            font-weight: bold;
        }
        
        .permission-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .permission-tag {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.4);
            color: #dbeafe;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
        }
        
        /* === 工作日志样式 === */
        .log-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .log-section {
            background: rgba(16, 36, 64, 0.6);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid;
        }
        
        .log-section.system {
            border-left-color: #10b981;
        }
        
        .log-section.security {
            border-left-color: #f59e0b;
        }
        
        .log-section.personnel {
            border-left-color: #8b5cf6;
        }
        
        .log-section.personal {
            border-left-color: #ef4444;
        }
        
        .log-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #f1f5f9;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .log-title i {
            font-size: 1.1rem;
        }
        
        .log-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed rgba(148, 163, 184, 0.3);
        }
        
        .log-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .log-meta {
            font-size: 0.9rem;
            color: #94a3b8;
            margin-bottom: 6px;
            display: flex;
            justify-content: space-between;
        }
        
        .log-content {
            line-height: 1.6;
            color: #e2e8f0;
            font-size: 1rem;
        }
        
        .log-content.highlight {
            background: rgba(239, 68, 68, 0.1);
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid #ef4444;
            margin-top: 6px;
            font-style: italic;
        }
        
        .log-todo {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(96, 165, 250, 0.3);
        }
        
        .todo-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 12px;
            padding: 12px;
            background: rgba(51, 65, 85, 0.4);
            border-radius: 8px;
            border: 1px solid rgba(128, 222, 234, 0.2);
        }
        
        .todo-item input[type="checkbox"] {
            margin-top: 4px;
            width: 16px;
            height: 16px;
            cursor: pointer;
        }
        
        .todo-item label {
            flex: 1;
            cursor: pointer;
            color: #e2e8f0;
            line-height: 1.4;
        }
        
        .todo-item input:checked + label {
            text-decoration: line-through;
            opacity: 0.6;
        }
        
        /* === 内部通讯样式 === */
        .chat-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            background: rgba(16, 36, 64, 0.6);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(128, 222, 234, 0.2);
        }
        
        .chat-tab {
            padding: 10px 20px;
            border-radius: 8px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(96, 165, 250, 0.3);
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }
        
        .chat-tab:hover {
            background: rgba(30, 41, 59, 0.9);
            transform: translateY(-2px);
        }
        
        .chat-tab.active {
            background: rgba(30, 41, 59, 0.95);
            color: #80deea;
            border-color: #80deea;
            font-weight: bold;
        }
        
        .chat-container {
            height: 500px;
            display: flex;
            flex-direction: column;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(128, 222, 234, 0.2);
        }
        
        .chat-header {
            background: rgba(30, 41, 59, 0.9);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(96, 165, 250, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .chat-user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1rem;
        }
        
        .chat-user-details h3 {
            color: #80deea;
            font-size: 1.2rem;
            margin-bottom: 4px;
        }
        
        .chat-user-details p {
            color: #94a3b8;
            font-size: 0.9rem;
        }
        
        .chat-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            background: rgba(15, 23, 42, 0.5);
        }
        
        /* 自定义滚动条 */
        .chat-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .chat-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .chat-content::-webkit-scrollbar-thumb {
            background: #60a5fa;
            border-radius: 10px;
        }
        
        /* 消息气泡 */
        .message {
            display: flex;
            max-width: 85%;
        }
        
        .message.yanz, .message.anquan {
            align-self: flex-start;
        }
        
        .message.xueren {
            align-self: flex-end;
        }
        
        .message-content {
            margin: 0 8px;
            display: flex;
            flex-direction: column;
            min-width: 180px;
        }
        
        .message-sender {
            font-size: 0.9rem;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .yanz .message-sender {
            color: #8b5cf6;
        }
        
        .anquan .message-sender {
            color: #10b981;
        }
        
        .xueren .message-sender {
            color: #60a5fa;
        }
        
        .message-bubble {
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            max-width: 100%;
            word-wrap: break-word;
            line-height: 1.5;
            font-size: 1rem;
        }
        
        .yanz .message-bubble {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-top-left-radius: 6px;
            color: #e9d5ff;
        }
        
        .anquan .message-bubble {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.4);
            border-top-left-radius: 6px;
            color: #d1fae5;
        }
        
        .xueren .message-bubble {
            background: rgba(96, 165, 250, 0.2);
            border: 1px solid rgba(96, 165, 250, 0.4);
            border-top-right-radius: 6px;
            color: #dbeafe;
        }
        
        .message-time {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 6px;
        }
        
        .xueren .message-time {
            align-self: flex-end;
        }
        
        .chat-input-area {
            padding: 15px 20px;
            background: rgba(30, 41, 59, 0.9);
            border-top: 1px solid rgba(96, 165, 250, 0.2);
            display: flex;
            gap: 12px;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border-radius: 25px;
            border: 2px solid rgba(96, 165, 250, 0.4);
            background: rgba(15, 23, 42, 0.7);
            color: white;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
        }
        
        .chat-input:focus {
            border-color: #60a5fa;
            box-shadow: 0 0 12px rgba(96, 165, 250, 0.3);
        }
        
        .chat-send-btn {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .chat-send-btn:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);
        }
        
        /* === 工作内容页面样式 === */
        .password-prompt {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            gap: 20px;
            text-align: center;
        }
        
        .password-input-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 400px;
        }
        
        .password-label {
            font-size: 1.1rem;
            color: #80deea;
            margin-bottom: 10px;
        }
        
        .password-input {
            padding: 12px 20px;
            border-radius: 10px;
            border: 2px solid #80deea;
            background: rgba(15, 23, 42, 0.8);
            color: white;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
        }
        
        .password-input:focus {
            border-color: #ffcc80;
            box-shadow: 0 0 15px rgba(255, 204, 128, 0.5);
        }
        
        .password-submit {
            padding: 12px 30px;
            border-radius: 50px;
            border: none;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .password-submit:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.5);
        }
        
        .password-error {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            padding: 10px 15px;
            border-radius: 8px;
            border-left: 3px solid #ff6b6b;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }
        
        .password-error.show {
            display: block;
            animation: shake 0.5s;
        }
        
        .password-hint {
            color: #94a3b8;
            font-size: 0.85rem;
            margin-top: 5px;
            font-style: italic;
        }
        
        .work-content-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .work-section {
            background: rgba(16, 36, 64, 0.6);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid;
        }
        
        .work-section.regular {
            border-left-color: #3b82f6;
        }
        
        .work-section.training {
            border-left-color: #10b981;
        }
        
        .work-section.analysis {
            border-left-color: #8b5cf6;
        }
        
        .work-section.comment {
            border-left-color: #f59e0b;
        }
        
        .work-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #80deea;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .work-title i {
            font-size: 1.1rem;
        }
        
        .work-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed rgba(148, 163, 184, 0.3);
        }
        
        .work-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .work-content {
            line-height: 1.6;
            color: #e2e8f0;
            font-size: 1rem;
        }
        
        .work-comment {
            background: rgba(245, 158, 11, 0.1);
            padding: 12px 16px;
            border-radius: 8px;
            border-left: 3px solid #f59e0b;
            margin-top: 15px;
            color: #ffd8a6;
        }

        
        /* === 底部信息 === */
        .footer {
            text-align: center;
            padding: 15px;
            background: rgba(16, 36, 64, 0.8);
            border-radius: 12px;
            border-top: 1px solid rgba(128, 222, 234, 0.2);
            margin-top: 15px;
            color: #b2ebf2;
            font-size: 0.9rem;
        }
        
        /* === 退出确认弹窗 === */
        .logout-confirm-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .logout-confirm-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #ffcc80;
            box-shadow: 0 0 50px rgba(255, 204, 128, 0.5);
            position: relative;
            text-align: center;
        }
        
        .logout-confirm-content h2 {
            color: #ffcc80;
            margin-bottom: 20px;
            font-size: 2rem;
        }
        
        .logout-confirm-content p {
            color: #b2ebf2;
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .logout-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        .logout-btn {
            padding: 12px 30px;
            border-radius: 50px;
            border: 2px solid;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logout-confirm-btn {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: white;
            border-color: #ff6b6b;
        }
        
        .logout-confirm-btn:hover {
            background: linear-gradient(135deg, #ff5252, #ff3d3d);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.5);
        }
        
        .logout-cancel-btn {
            background: rgba(255, 255, 255, 0.1);
            color: #b2ebf2;
            border-color: #b2ebf2;
        }
        
        .logout-cancel-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        /* === 动画 === */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* === 响应式设计 === */
        @media (max-width: 1024px) {
            .employee-card {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .employee-avatar {
                margin-left: 0;
            }
            
            .employee-stats {
                justify-content: center;
            }
            
            .info-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .forum-title h1 {
                font-size: 2.2rem;
            }
            
            .function-bar {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }
            
            .user-actions {
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .search-box {
                width: 100%;
                min-width: auto;
                max-width: none;
            }
            
            .employee-name {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .employee-stats {
                flex-direction: column;
                align-items: center;
            }
            
            .stat-item {
                width: 100%;
                max-width: 250px;
            }
            
            .tabs-container {
                flex-direction: column;
                padding: 12px 12px 0 12px;
            }
            
            .tab {
                border-radius: 8px;
                margin-bottom: 5px;
            }
            
            .content-area {
                border-radius: 0 0 12px 12px;
                padding: 15px;
                max-height: 500px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .chat-selector {
                flex-direction: column;
            }
            
            .chat-tab {
                width: 100%;
                justify-content: center;
            }
            
            .message {
                max-width: 95%;
            }
            
            .chat-input-area {
                flex-direction: column;
            }
            
            .chat-send-btn {
                width: 100%;
                border-radius: 25px;
                height: 45px;
            }
            
            .logout-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .password-input-container {
                max-width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .forum-title h1 {
                font-size: 1.8rem;
            }
            
            .user-btn {
                padding: 10px 18px;
                font-size: 0.9rem;
            }
            
            .search-box {
                flex-direction: column;
                border-radius: 50px;
            }
            
            .search-box input {
                border-radius: 50px;
                margin-bottom: 0;
            }
            
            .search-box button {
                border-radius: 50px;
                margin-top: 8px;
            }
            
            .employee-name {
                font-size: 1.4rem;
            }
            
            .employee-avatar {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }
            
            .content-pane {
                padding: 12px;
            }
            
            .log-title, .section-title, .work-title {
                font-size: 1.1rem;
            }
            
            .chat-content {
                padding: 15px;
            }
            
            .logout-confirm-content {
                padding: 30px 20px;
                margin: 20px;
            }
        }
    </style>
</head>
<body>

    <!-- 退出确认弹窗 -->
    <div class="logout-confirm-modal" id="logoutConfirmModal">
        <div class="logout-confirm-content">
            <h2><i class="fas fa-sign-out-alt"></i> 确认退出</h2>
            <p>确定要退出当前账号吗？<br>退出后将返回登录页面</p>
            <div class="logout-actions">
                <button class="logout-btn logout-confirm-btn" onclick="confirmLogout()">
                    <i class="fas fa-check"></i> 确定退出
                </button>
                <button class="logout-btn logout-cancel-btn" onclick="closeLogoutConfirm()">
                    <i class="fas fa-times"></i> 取消
                </button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <!-- 顶部论坛导航栏 -->
        <div class="forum-header">
            <div class="forum-title">
                <h1>我是小神仙</h1>
                <div class="forum-subtitle">修仙论坛 - 审核员工作台</div>
            </div>
            
            <!-- 功能栏 -->
            <div class="function-bar">
                <div class="user-actions">
                    <!-- 登录按钮显示为xueren -->
                    <button class="user-btn login-btn" onclick="showLogoutConfirm()">
                        <i class="fas fa-user"></i> 还下不下雪了
                    </button>
                </div>
                
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="搜索内容...">
                    <button onclick="handleSearch()">
                        <i class="fas fa-search"></i> 搜索
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 工作台主内容区 -->
        <div class="workstation-container">
            <!-- 员工信息卡片 - 缩小版 -->
            <div class="employee-card">
                <div class="employee-info">
                    <div class="employee-name">
                        <span>薛仁</span>
                        <span class="employee-id">工号: B123456789</span>
                    </div>
                    
                    <div class="employee-stats">
                        <div class="stat-item stat-highlight">
                            <div class="stat-label">待处理举报/待审帖子</div>
                            <div class="stat-value">47条</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">本周违规处理数</div>
                            <div class="stat-value">23次</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">处理准确率</div>
                            <div class="stat-value">96.5%</div>
                        </div>
                    </div>
                </div>
                
                <div class="employee-avatar">
                    <i class="fas fa-user-shield"></i>
                </div>
            </div>
            
            <!-- 选项卡 -->
            <div class="tabs-container">
                <div class="tab" data-tab="employee">
                    <i class="fas fa-id-card"></i> 员工信息
                </div>
                <div class="tab active" data-tab="log">
                    <i class="fas fa-clipboard-list"></i> 工作日志
                </div>
                <div class="tab" data-tab="work">
                    <i class="fas fa-tasks"></i> 工作内容
                </div>
                <div class="tab" data-tab="chat">
                    <i class="fas fa-comments"></i> 内部通讯
                </div>
            </div>
            
            <!-- 内容区域 -->
            <div class="content-area">
                <!-- 员工信息页面 - 缩小版 -->
                <div class="content-pane" id="employee-pane">
                    <div class="employee-details-container">
                        <!-- 个人信息 -->
                        <div class="info-section personal">
                            <h3 class="section-title"><i class="fas fa-user-circle"></i> 个人信息</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <div class="info-label">姓名</div>
                                    <div class="info-value">薛仁</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">工号</div>
                                    <div class="info-value">B123456789</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">部门</div>
                                    <div class="info-value">内容审核部</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">职位</div>
                                    <div class="info-value">高级审核员</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">入职日期</div>
                                    <div class="info-value">2022-03-15</div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 工作日志页面 -->
                <div class="content-pane active" id="log-pane">
                    <div class="log-container">
                        <!-- 实时留言 -->
                        <div class="log-section system">
                            <h3 class="log-title"><i class="fas fa-bell"></i> 实时留言</h3>
                            
                            <div class="log-item">
                                <div class="log-meta">
                                    <span><i class="fas fa-desktop"></i> 系统</span>
                                    <span>今天 14:30</span>
                                </div>
                                <div class="log-content">
                                    用户"八卦速递员小麻雀" (ID: C112233449) 因24小时内连续发布3条未经证实的"精英婚恋传闻"，已被自动标记。请审核员跟进。
                                </div>
                            </div>
                            
                            <div class="log-item">
                                <div class="log-meta">
                                    <span><i class="fas fa-shield-alt"></i> 安泉</span>
                                    <span>今天 11:15</span>
                                </div>
                                <div class="log-content">
                                    近期论坛出现新型图片隐写违规内容，特征码已更新至审核库，请大家注意筛查。
                                </div>
                            </div>
                            
                            <div class="log-item">
                                <div class="log-meta">
                                    <span><i class="fas fa-user-tie"></i> 晏孜</span>
                                    <span>昨天 18:45</span>
                                </div>
                                <div class="log-content">
                                    薛仁，注意一下在网上的发言，毕竟我们是工作人员，你想吐槽什么我管不着，但是不要让人发现也不要把工作牵扯进来。
                                </div>
                            </div>
                        </div>
                        
                        <!-- 处理内容 -->
                        <div class="log-section security">
                            <h3 class="log-title"><i class="fas fa-tasks"></i> 处理内容</h3>
                            
                            <div class="log-item">
                                <div class="log-content">
                                    1、审核并处理举报信息共 <strong>17条</strong>，其中：
                                    <ul style="margin-left: 20px; margin-top: 8px; list-style-type: disc; line-height: 1.6;">
                                        <li>删除含不当言语攻击回帖 <strong>3条</strong>（依据《社区公约》第5条）</li>
                                        <li>折叠疑似引战主题帖 <strong>1条</strong>（"不同妖族飞行速度排名引争执"，已折叠并发送提醒私信）</li>
                                        <li>驳回无效举报 <strong>13条</strong>（多为用户间日常争执，未达违规标准）</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="log-item">
                                <div class="log-content">
                                    2、例行巡查"都市生活"版块 3小时，重点监测：
                                    <ul style="margin-left: 20px; margin-top: 8px; list-style-type: disc; line-height: 1.6;">
                                        <li>新注册用户发帖内容（未发现异常）</li>
                                        <li>含"内幕"、"爆料"等关键词的主题（共8帖，7帖为普通吐槽，1帖涉及模糊公司信息已暂时隐藏待查）</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="log-item">
                                <div class="log-content">
                                    3、参与内部线上培训：《新型隐匿违规信息识别（图文篇）》，完成课后测验（得分：<strong>82/100</strong>）。
                                </div>
                            </div>
                            
                            <div class="log-item">
                                <div class="log-content">
                                    4、对本周被警告的3名审核员进行工作复查，确认警告处分适当。
                                </div>
                            </div>
                            
                            <div class="log-item">
                                <div class="log-content">
                                    5、监测后台操作日志，重点关注高级权限账户的敏感查询记录（今日无异常操作）。
                                </div>
                            </div>
                        </div>
                        
                        <!-- 备注/待办 -->
                        <div class="log-section personal">
                            <h3 class="log-title"><i class="fas fa-sticky-note"></i> 备注/待办</h3>
                            
                            <div class="log-todo">
                                <div class="todo-item">
                                    <input type="checkbox" id="todo1">
                                    <label for="todo1">需复查昨日隐藏的"公司年终福利猜想"帖</label>
                                </div>
                                
                                <div class="log-item">
                                    <div class="log-content highlight">
                                        【薛仁】：不知道这个东西安泉会不会知道这个？毕竟他们安全技术部和上面那位的关系最好了。
                                    </div>
                                </div>
                                
                                <div class="todo-item">
                                    <input type="checkbox" id="todo2">
                                    <label for="todo2">明日需提交本周违规内容趋势小结（初稿已拟）</label>
                                </div>
                                
                                <div class="log-item">
                                    <div class="log-content highlight">
                                        【薛仁】：再次确认了一遍后台权限日志，自己的查询记录应该不会被特别调取吧……应该
                                    </div>
                                </div>
                                
                                <div class="log-item">
                                    <div class="log-content">
                                        敏感信息已按规定进行脱敏处理
                                    </div>
                                </div>
                                
                                <div class="log-item">
                                    <div class="log-content highlight">
                                        【晏孜】：你就往你的工作日志光明正大的写这些？快删了。还有，你这次的测验成绩有点不理想，低于平均分了，这段时间好好学，下次要上90分。
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 工作内容页面 -->
                <div class="content-pane" id="work-pane">
                    <div class="password-prompt" id="passwordPrompt">
                        <div style="text-align: center;">
                            <i class="fas fa-lock" style="font-size: 48px; color: #80deea; margin-bottom: 20px;"></i>
                            <h3 style="color: #80deea; margin-bottom: 10px;">访问受限内容</h3>
                            <p style="color: #b2ebf2; margin-bottom: 20px;">此页面包含敏感工作内容，需要输入密码才能查看</p>
                        </div>
                        
                        <div class="password-input-container">
                            <div class="password-label">请输入访问密码：</div>
                            <input type="password" class="password-input" id="workPassword" placeholder="输入密码...">
                            <button class="password-submit" onclick="checkWorkPassword()">
                                <i class="fas fa-key"></i> 验证
                            </button>
                            <div class="password-error" id="passwordError">
                                <i class="fas fa-exclamation-circle"></i> 密码错误！请重新输入。
                            </div>
                            <div class="password-hint" id="passwordHint" style="display: none;">
                                <i class="fas fa-lightbulb"></i> 密码提示：【反妖类和反妖类工号】
                            </div>
                        </div>
                    </div>
                    
                    <div class="work-content-container" id="workContent" style="display: none;">
                        <!-- 常规审核轮值分配 -->
                        <div class="work-section regular">
                            <h3 class="work-title"><i class="fas fa-list-check"></i> 常规审核轮值分配</h3>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    复核"夜雨声烦" (ID: yeyu_101) 关于《城市灵脉节点地图》的转载权限申请
                                </div>
                            </div>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    处理"白鹤亮翅" (ID: baihe_liangchi) 被举报使用AI批量生成修炼心得（疑似灌水）
                                </div>
                            </div>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    归档"柳絮飞" (ID: liuxu_fei) 三年前发布的《如何与人类室友和平共处》历史神帖
                                </div>
                            </div>
                        </div>
                        
                        <!-- 新员工培训组轮值安排 -->
                        <div class="work-section training">
                            <h3 class="work-title"><i class="fas fa-user-graduate"></i> 新员工培训组轮值安排</h3>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    本周由李振负责带新人林小鹿 (B2425637899)
                                </div>
                            </div>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    林小鹿对界面操作不熟，昨天误删了5条正常帖子，需重点培训回收站功能
                                </div>
                            </div>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    莫拉娜 (B720202020) 的培训已移交王小麦负责，因其情绪感知特长更适合处理用户投诉部门
                                </div>
                            </div>
                        </div>
                        
                        <!-- 区域用户行为分析 -->
                        <div class="work-section analysis">
                            <h3 class="work-title"><i class="fas fa-chart-bar"></i> 区域用户行为分析</h3>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    <strong>临新区抽样</strong>
                                </div>
                            </div>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    分析要求：对比同区域用户的登录模式、发帖主题偏好、社交网络密度
                                </div>
                            </div>
                            
                            <div class="work-item">
                                <div class="work-content">
                                    特别关注：雪尾账号从活跃到静默的转变节点（2024.2.3），是否存在外部事件触发
                                </div>
                            </div>
                        </div>
                        
                        <!-- 薛仁批注 -->
                        <div class="work-section comment">
                            <h3 class="work-title"><i class="fas fa-comment-dots"></i> 薛仁批注</h3>
                            
                            <div class="work-comment">
                    
                                <div class="work-content">
                                    昨天"大橘为重"投诉我处理他的晒猫帖太慢，我能怎么办？猫片也要一张张看有没有违规元素啊。
                                </div>
                            </div>
                            
                            <div class="work-comment">
                                <div class="work-content">
                                    林小鹿这新人挺认真的，就是太紧张，点鼠标像在戳地雷。教她恢复误删帖子，她差点把三年前的广告帖都恢复了。
                                </div>
                            </div>
                            
                            <div class="work-comment">
                                <div class="work-content">
                                    说到新人，莫拉娜好像调去用户关怀组了，听说她昨天安抚了一个因为修炼失败大哭的树精，用了两小时……这耐心我是没有，我只会说："亲，论坛有《走火入魔自救指南》精华帖哦。"
                                </div>
                            </div>
                            
                            <div class="work-comment">
                                <div class="work-content">
                                    雪尾这账号有点怪，注册那几天特别活跃，然后突然就静默了。是找到现实朋友了？还是遇到麻烦了？抽检数据显示她和月下的私信量占了总活跃度的90%……这算不算社交依赖症？
                                    晚点和晏孜说一下。
                                </div>
                            </div>
                            
                            <div class="work-comment">
                                <div class="work-content">
                                    对了，安泉那边的新系统测试我得参加，但看到那些加密协议就头疼。直接设个20位密码不行吗？
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 内部通讯页面 -->
                <div class="content-pane" id="chat-pane">
                    <!-- 聊天对象选择器 -->
                    <div class="chat-selector">
                        <div class="chat-tab active" data-chat="yanz">
                             晏孜 
                        </div>
                        <div class="chat-tab" data-chat="anquan">
                             安泉 
                        </div>
                    </div>
                    
                    <!-- 晏孜聊天界面 -->
                    <div class="chat-container" id="yanz-chat">
                        <div class="chat-header">
                            <div class="chat-user-info">
                                <div class="chat-user-avatar" style="background: linear-gradient(135deg, #8b5cf6, #d946ef);">晏</div>
                                <div class="chat-user-details">
                                    <h3>晏孜</h3>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-content" id="yanzChatContent">
                            <!-- 日期：2024.1.5 -->
                            <div style="text-align: center; margin: 15px 0;">
                                <span style="background: rgba(30, 41, 59, 0.9); padding: 6px 15px; border-radius: 15px; font-size: 0.9rem; color: #94a3b8; border: 1px solid rgba(128, 222, 234, 0.2);">
                                    2024年1月5日
                                </span>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        晏主管，刚完成本周督察审核工作，发现部分设备巡检记录里的安全防护参数标注不达标，缺少明确的合规依据，后续督察工作很难统一标准。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message yanz">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-tie"></i> 晏孜
                                    </div>
                                    <div class="message-bubble">
                                        新一批督察员刚上岗，对安全技术规范不熟悉是一方面，更关键的是咱们得拿到权威的参数参考模板。安全技术部的安泉，之前参与过公司督察体系的搭建，对这类标准的把控很到位，你直接联系他，让他提供一份合规参数清单，另外协调时间给督察组做一次专项培训。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        好的好的，我这就整理审核中发现的具体问题，列成清单发给他，确保培训更有针对性。另外，培训的会议室需要提前申请，您看是我来协调还是走行政流程？
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message yanz">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-tie"></i> 晏孜
                                    </div>
                                    <div class="message-bubble">
                                        会议室我让行政部预留，你不用管。重点是把问题摸透，和安泉对接时，务必明确模板的交付时间和培训节点，督察工作不能因为标准模糊耽误进度。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        好的晏主管，明天一早给您汇报进展。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message yanz">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-tie"></i> 晏孜
                                    </div>
                                    <div class="message-bubble">
                                        嗯，抓紧落实，有解决不了的问题随时找我。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message yanz">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-tie"></i> 晏孜
                                    </div>
                                    <div class="message-bubble">
                                        还有我的留言你看到了吗。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        看到了。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message yanz">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-tie"></i> 晏孜
                                    </div>
                                    <div class="message-bubble">
                                        好。
                                    </div>
                                </div>
                            </div>

                            <div class="message yanz">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-tie"></i> 晏孜
                                    </div>
                                    <div class="message-bubble">
                                        还有别忘了新交给你的几个用户和员工，记得帮帮忙提醒提醒。
                                    </div>
                                </div>
                            </div>
                                                        
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        好的好的。
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-input-area">
                            <input type="text" class="chat-input" id="yanz-chat-input" placeholder="输入消息给晏孜...">
                            <button class="chat-send-btn" onclick="sendMessage('yanz')">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- 安泉聊天界面 -->
                    <div class="chat-container" id="anquan-chat" style="display: none;">
                        <div class="chat-header">
                            <div class="chat-user-info">
                                <div class="chat-user-avatar" style="background: linear-gradient(135deg, #10b981, #059669);">安</div>
                                <div class="chat-user-details">
                                    <h3>安泉</h3>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-content" id="anquanChatContent">
                            <!-- 日期：2024.1.5 -->
                            <div style="text-align: center; margin: 15px 0;">
                                <span style="background: rgba(30, 41, 59, 0.9); padding: 6px 15px; border-radius: 15px; font-size: 0.9rem; color: #94a3b8; border: 1px solid rgba(128, 222, 234, 0.2);">
                                    2024年1月5日
                                </span>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        安泉负责人您好！晏主管让我把督察中发现的问题清单发给您，方便培训时参考。文件已通过安全渠道发送，请查收！
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message anquan">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-shield-alt"></i> 安泉
                                    </div>
                                    <div class="message-bubble">
                                        已收到。看了，问题很具体，适合做案例。周一我会逐一讲解合规依据和判断阈值。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        太好了！谢谢！另外……想请教一下，图片隐写检测的新特征码，我们审核端能看到风险评分吗？
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message anquan">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-shield-alt"></i> 安泉
                                    </div>
                                    <div class="message-bubble">
                                        不会。你们只会收到"内容疑似异常，待安全复核"的提示。底层数据和分析过程不可见，这是权限隔离。
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message xueren">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-user-shield"></i> 薛仁
                                    </div>
                                    <div class="message-bubble">
                                        明白了，谢谢安泉负责人！
                                    </div>
                                </div>
                            </div>
                            
                            <div class="message anquan">
                                <div class="message-content">
                                    <div class="message-sender">
                                        <i class="fas fa-shield-alt"></i> 安泉
                                    </div>
                                    <div class="message-bubble">
                                        不客气。培训时间确定后通知我。
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-input-area">
                            <input type="text" class="chat-input" id="anquan-chat-input" placeholder="输入消息给安泉...">
                            <button class="chat-send-btn" onclick="sendMessage('anquan')">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 登录状态变量 - 从第二个文件移植
        let isLoggedIn = true; // 默认已登录xueren账号
        let currentUser = '薛仁';
        
        // 工作内容访问状态
        let workContentUnlocked = false;
        let passwordAttempted = false; // 记录是否已经尝试过密码
        
        // 主选项卡切换（保留原功能）
        document.addEventListener('DOMContentLoaded', function() {
            // 主选项卡切换
            const tabs = document.querySelectorAll('.tab');
            const panes = document.querySelectorAll('.content-pane');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // 更新选项卡状态
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 更新内容面板
                    panes.forEach(pane => {
                        pane.classList.remove('active');
                        if (pane.id === `${tabId}-pane`) {
                            pane.classList.add('active');
                        }
                    });
                    
                    // 如果是聊天页面，确保当前聊天界面正确显示
                    if (tabId === 'chat') {
                        showChat(currentChat);
                    }
                    
                    // 如果是工作内容页面，检查访问权限
                    if (tabId === 'work') {
                        if (!workContentUnlocked) {
                            showPasswordPrompt();
                        } else {
                            showWorkContent();
                        }
                    }
                });
            });
            
            // 聊天对象切换
            const chatTabs = document.querySelectorAll('.chat-tab');
            chatTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const chatId = this.getAttribute('data-chat');
                    
                    // 更新聊天选项卡状态
                    chatTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 切换聊天界面
                    showChat(chatId);
                    currentChat = chatId;
                });
            });
            
            // 聊天输入框回车发送
            document.getElementById('yanz-chat-input')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage('yanz');
                }
            });
            
            document.getElementById('anquan-chat-input')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage('anquan');
                }
            });
            
            // 待办事项复选框功能
            document.querySelectorAll('.todo-item input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const label = this.nextElementSibling;
                    if (this.checked) {
                        label.style.textDecoration = 'line-through';
                        label.style.opacity = '0.6';
                    } else {
                        label.style.textDecoration = 'none';
                        label.style.opacity = '1';
                    }
                });
            });
            
            // 工作内容密码输入框回车提交
            document.getElementById('workPassword')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkWorkPassword();
                }
            });
            
            // 初始化：聊天页面滚动到底部
            scrollChatToBottom('yanz');
            scrollChatToBottom('anquan');
        });
        
        // 显示密码提示
        function showPasswordPrompt() {
            document.getElementById('passwordPrompt').style.display = 'flex';
            document.getElementById('workContent').style.display = 'none';
            
            // 如果已经尝试过密码但失败了，显示提示
            if (passwordAttempted) {
                document.getElementById('passwordHint').style.display = 'block';
            }
        }
        
        // 显示工作内容
        function showWorkContent() {
            document.getElementById('passwordPrompt').style.display = 'none';
            document.getElementById('workContent').style.display = 'block';
        }
        
        // 检查工作内容密码
        function checkWorkPassword() {
            const passwordInput = document.getElementById('workPassword');
            const password = passwordInput.value.trim();
            const passwordError = document.getElementById('passwordError');
            const passwordHint = document.getElementById('passwordHint');
            
            // 正确密码
            const correctPassword = 'nereux987654321B';
            
            // 标记已经尝试过密码
            passwordAttempted = true;
            
            if (password === correctPassword) {
                // 密码正确
                workContentUnlocked = true;
                showWorkContent();
                passwordError.classList.remove('show');
                
                // 显示成功消息
                showPasswordSuccessMessage();
            } else {
                // 密码错误
                passwordError.classList.add('show');
                passwordInput.value = '';
                passwordInput.focus();
                
                // 显示密码提示
                passwordHint.style.display = 'block';
                
                // 添加抖动效果
                passwordInput.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    passwordInput.style.animation = '';
                }, 500);
            }
        }
        
        // 显示密码验证成功消息
        function showPasswordSuccessMessage() {
            const successBox = document.createElement('div');
            successBox.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                color: #80deea;
                padding: 15px 25px;
                border-radius: 10px;
                border: 2px solid #10b981;
                box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
                z-index: 1000;
                max-width: 400px;
                animation: fadeIn 0.5s ease-out;
            `;
            
            successBox.innerHTML = `
                <div style="text-align: center;">
                    <i class="fas fa-check-circle" style="font-size: 24px; color: #10b981; margin-bottom: 10px;"></i>
                    <div style="font-weight: bold; margin-bottom: 5px;">验证成功！</div>
                    <div style="font-size: 0.9em; color: #10b981;">已解锁工作内容</div>
                </div>
            `;
            
            document.body.appendChild(successBox);
            
            // 3秒后移除消息框
            setTimeout(() => {
                successBox.style.animation = 'fadeOut 0.5s ease-out';
                setTimeout(() => successBox.remove(), 500);
            }, 3000);
            
            // 确保动画样式存在
            ensureFadeAnimationStyles();
        }
        
        // 显示聊天界面（保留原功能）
        function showChat(chatId) {
            // 隐藏所有聊天界面
            document.getElementById('yanz-chat').style.display = 'none';
            document.getElementById('anquan-chat').style.display = 'none';
            
            // 显示当前聊天界面
            document.getElementById(`${chatId}-chat`).style.display = 'flex';
            
            // 滚动到底部
            setTimeout(() => {
                scrollChatToBottom(chatId);
            }, 50);
        }
        
        // 滚动聊天到底部（保留原功能）
        function scrollChatToBottom(chatId) {
            const chatContent = document.getElementById(`${chatId}ChatContent`);
            if (chatContent) {
                chatContent.scrollTop = chatContent.scrollHeight;
            }
        }
        
        // 聊天功能（保留原功能）
        function sendMessage(chatId) {
            const chatInput = document.getElementById(`${chatId}-chat-input`);
            const message = chatInput.value.trim();
            
            if (message) {
                // 创建新消息元素
                const chatContent = document.getElementById(`${chatId}ChatContent`);
                const now = new Date();
                const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message xueren';
                messageDiv.innerHTML = `
                    <div class="message-content">
                        <div class="message-sender">
                            <i class="fas fa-user-shield"></i> 薛仁
                        </div>
                        <div class="message-bubble">${message}</div>
                        <div class="message-time">${timeStr}</div>
                    </div>
                `;
                
                chatContent.appendChild(messageDiv);
                chatInput.value = '';
                
                // 滚动到底部
                scrollChatToBottom(chatId);
            }
        }
        
        // ========== 从第二个文件移植的功能 ==========
        
        // 显示退出确认弹窗（从第二个文件移植）
        function showLogoutConfirm() {
            document.getElementById('logoutConfirmModal').style.display = 'flex';
        }
        
        function closeLogoutConfirm() {
            document.getElementById('logoutConfirmModal').style.display = 'none';
        }
        
        // 确认退出（从第二个文件移植）- 修改为在新窗口打开
        function confirmLogout() {
            // 清空登录状态标记
            localStorage.removeItem('xueren_welcome_shown');
            
            // 显示退出消息
            showLogoutMessage();
            
            // 1秒后跳转到forum.html - 修改为在新窗口打开
            setTimeout(() => {
                window.open('forum.html', '_blank');
            }, 1000);
        }
        
        // 显示退出消息（从第二个文件移植）
        function showLogoutMessage() {
            // 创建退出消息框
            const logoutBox = document.createElement('div');
            logoutBox.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                color: #80deea;
                padding: 15px 25px;
                border-radius: 10px;
                border: 2px solid #ffcc80;
                box-shadow: 0 0 30px rgba(255, 204, 128, 0.5);
                z-index: 1000;
                max-width: 400px;
                animation: slideIn 0.5s ease-out;
            `;
            
            logoutBox.innerHTML = `
                <div style="text-align: center;">
                    <i class="fas fa-sign-out-alt" style="font-size: 24px; color: #ffcc80; margin-bottom: 10px;"></i>
                    <div style="font-weight: bold; margin-bottom: 5px;">退出成功！</div>
                    <div style="font-size: 0.9em; color: #ffcc80;">正在退出 薛仁 账号...</div>
                    <div style="margin-top: 10px; font-size: 0.8em; color: #b2ebf2;">
                        <i class="fas fa-spinner fa-spin"></i> 即将在新窗口打开登录页面...
                    </div>
                </div>
            `;
            
            document.body.appendChild(logoutBox);
            
            // 1秒后移除消息框
            setTimeout(() => {
                logoutBox.style.animation = 'slideOut 0.5s ease-out';
                setTimeout(() => logoutBox.remove(), 500);
            }, 1000);
            
            // 确保动画样式存在
            ensureSlideAnimationStyles();
        }
        
        // 搜索功能 - 智能跳转（从第二个文件移植）- 修改为在新窗口打开
        const searchMap = {
            '临新区': 'linxinqu.html',
            '清河村': 'linxinqu.html',
            '晏孜': 'yanzi.html', 
            '安泉': 'anquan.html',
            '薛仁': 'xueren.html',
            '杠精': 'gangjing.html',
            '我就叫杠精怎么了': 'gangjing.html',
            '解珀': 'jiepo.html',
            '新手村': 'xinshoucun.html',
            '白叶村': 'baiyecun.html',
            '公司年终福利猜想': 'fuli.html',
            '年终福利': 'fuli.html',
            '上司住我家之规矩成精怎么办': 'bosslove.html',
        };
        
        function handleSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value.trim();
            
            if (!searchTerm) {
                alert('请输入搜索内容！');
                searchInput.focus();
                return;
            }
            
            let targetPage = null;
            
            // 1. 精确匹配
            if (searchMap[searchTerm]) {
                targetPage = searchMap[searchTerm];
            } 
            // 2. 模糊匹配（包含搜索词）
            else {
                for (const [keyword, page] of Object.entries(searchMap)) {
                    if (searchTerm.toLowerCase().includes(keyword.toLowerCase())) {
                        targetPage = page;
                        break;
                    }
                }
            }
            
            // 3. 默认跳转页面
            if (!targetPage) {
                targetPage = 'cuowu.html';
            }
            
            // 修改为在新窗口打开
            window.open(targetPage, '_blank');
        }
        
        // 按回车键搜索（从第二个文件移植）
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                handleSearch();
            }
        });
        
        // 显示欢迎消息（从第二个文件移植）
        function showWelcomeMessage() {
            const welcomeBox = document.createElement('div');
            welcomeBox.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                color: #80deea;
                padding: 15px 25px;
                border-radius: 10px;
                border: 2px solid #80deea;
                box-shadow: 0 0 10px rgba(0, 172, 193, 0.5);
                z-index: 1000;
                max-width: 400px;
                animation: fadeIn 0.5s ease-out;
            `;
            
            welcomeBox.innerHTML = `
                <div style="text-align: center;">
                    <i class="fas fa-user-circle" style="font-size: 24px; color: #80deea; margin-bottom: 10px;"></i>
                    <div style="font-weight: bold; margin-bottom: 5px;">欢迎回来，薛仁！</div>
                    <div style="font-size: 0.9em; color: #ffcc80;">已成功登录</div>
                </div>
            `;
            
            document.body.appendChild(welcomeBox);
            
            // 3秒后移除消息框
            setTimeout(() => {
                welcomeBox.style.animation = 'fadeOut 0.5s ease-out';
                setTimeout(() => welcomeBox.remove(), 500);
            }, 3000);
            
            // 确保动画样式存在
            ensureFadeAnimationStyles();
        }
        
        // 确保淡入淡出动画样式存在
        function ensureFadeAnimationStyles() {
            if (!document.querySelector('#fade-animation-styles')) {
                const style = document.createElement('style');
                style.id = 'fade-animation-styles';
                style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                        to { opacity: 1; transform: translateX(-50%) translateY(0); }
                    }
                    @keyframes fadeOut {
                        from { opacity: 1; transform: translateX(-50%) translateY(0); }
                        to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // 确保滑动动画样式存在
        function ensureSlideAnimationStyles() {
            if (!document.querySelector('#slide-animation-styles')) {
                const style = document.createElement('style');
                style.id = 'slide-animation-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // 点击弹窗外部关闭（从第二个文件移植）
        window.onclick = function(event) {
            const modal = document.getElementById('logoutConfirmModal');
            
            if (event.target === modal) {
                closeLogoutConfirm();
            }
        }
        
        // 页面加载时的初始化（从第二个文件移植）
        window.onload = function() {
            // 检查是否已经显示过欢迎消息
            const welcomeShown = localStorage.getItem('xueren_welcome_shown');
            
            // 如果是从登录页面跳转过来（URL中有参数）或者第一次访问，显示欢迎消息
            const urlParams = new URLSearchParams(window.location.search);
            const fromLogin = urlParams.get('from') === 'login';
            
            if (fromLogin || !welcomeShown) {
                // 延迟显示欢迎消息，让页面先加载
                setTimeout(() => {
                    showWelcomeMessage();
                }, 500);
                
                // 如果是通过参数进来的，清除URL参数
                if (fromLogin) {
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            }
        };
    </script>
</body>

</html>

